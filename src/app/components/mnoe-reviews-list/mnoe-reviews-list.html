<mno-widget icon="fa-comment" heading="{{ 'mnoe_admin_panel.dashboard.reviews_list.title' | translate}}">
  <mno-widget-header></mno-widget-header>
  <mno-widget-body class="large no-padding widget-comments">
    <div>
      <table class="table table-striped" >
        <thead>
          <tr>
            <th translate>mnoe_admin_panel.dashboard.reviews_list.author</th>
            <th translate>mnoe_admin_panel.dashboard.reviews_list.company</th>
            <th translate>mnoe_admin_panel.dashboard.reviews_list.app</th>
            <th translate>mnoe_admin_panel.dashboard.reviews_list.type</th>
            <th translate>mnoe_admin_panel.dashboard.reviews_list.message</th>
            <th translate>mnoe_admin_panel.dashboard.reviews_list.rating</th>
            <th translate>mnoe_admin_panel.dashboard.reviews_list.date</th>
            <th translate>mnoe_admin_panel.dashboard.reviews_list.status</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="review in listOfReviews">
            <td>
              {{review.user_name}}
            </td>
            <td>
              {{review.organization_name}}
            </td>
            <td>
              {{review.app_name}}
            </td>
            <td>
              {{review.type}}
            </td>
            <td>
              <p>{{review.description}}</p>
              <div class="text-right">
                <button type="button" name="button" ng-click="openQuestionReplyModal(review)"  ng-show="review.type == 'Question'" translate>mnoe_admin_panel.dashboard.reviews_list.button.reply</button>
                <button type="button" name="button" ng-click="openFeedbackReplyModal(review)" ng-show="review.type == 'Feedback'" translate>mnoe_admin_panel.dashboard.reviews_list.button.comment</button>
                <button type="button" name="button" ng-click="openEditModal(review)" translate>mnoe_admin_panel.dashboard.reviews_list.button.edit</button>
              </div>
            </td>
            <td>
              {{review.rating}}
            </td>
            <td>
              {{review.created_at | date: 'dd/MM/yyyy' }}
            </td>
            <td>
              <span ng-show="!editmode[review.id]">{{review.status}}</span>
              <select ng-model="review.status" ng-show="editmode[review.id]" >
                <option ng-repeat="status in statuses" value="{{status.value}}" translate>{{status.label}}</option>
              </select>
              <div class="pull-right">
                <a href="" ng-hide="editmode[review.id]" ng-click="editmode[review.id] = true"><i class="fa fa-pencil"></i></a>
                <a href="" ng-show="editmode[review.id]" ng-click="update(review)"><i class="fa fa-check"></i></a>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </mno-widget-body>
</mno-widget>
